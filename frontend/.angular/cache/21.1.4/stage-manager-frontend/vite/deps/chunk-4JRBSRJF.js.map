{
  "version": 3,
  "sources": ["../../../../../../node_modules/@angular/cdk/fesm2022/_data-source-chunk.mjs", "../../../../../../node_modules/@angular/cdk/fesm2022/_recycle-view-repeater-strategy-chunk.mjs"],
  "sourcesContent": ["import { ConnectableObservable } from 'rxjs';\r\n\r\nclass DataSource {}\r\nfunction isDataSource(value) {\r\n  return value && typeof value.connect === 'function' && !(value instanceof ConnectableObservable);\r\n}\r\n\r\nexport { DataSource, isDataSource };\r\n\r\n", "import { isObservable, of } from 'rxjs';\r\nimport { DataSource } from './_data-source-chunk.mjs';\r\n\r\nclass ArrayDataSource extends DataSource {\r\n  _data;\r\n  constructor(_data) {\r\n    super();\r\n    this._data = _data;\r\n  }\r\n  connect() {\r\n    return isObservable(this._data) ? this._data : of(this._data);\r\n  }\r\n  disconnect() {}\r\n}\r\n\r\nvar _ViewRepeaterOperation;\r\n(function (_ViewRepeaterOperation) {\r\n  _ViewRepeaterOperation[_ViewRepeaterOperation[\"REPLACED\"] = 0] = \"REPLACED\";\r\n  _ViewRepeaterOperation[_ViewRepeaterOperation[\"INSERTED\"] = 1] = \"INSERTED\";\r\n  _ViewRepeaterOperation[_ViewRepeaterOperation[\"MOVED\"] = 2] = \"MOVED\";\r\n  _ViewRepeaterOperation[_ViewRepeaterOperation[\"REMOVED\"] = 3] = \"REMOVED\";\r\n})(_ViewRepeaterOperation || (_ViewRepeaterOperation = {}));\r\n\r\nclass _RecycleViewRepeaterStrategy {\r\n  viewCacheSize = 20;\r\n  _viewCache = [];\r\n  applyChanges(changes, viewContainerRef, itemContextFactory, itemValueResolver, itemViewChanged) {\r\n    changes.forEachOperation((record, adjustedPreviousIndex, currentIndex) => {\r\n      let view;\r\n      let operation;\r\n      if (record.previousIndex == null) {\r\n        const viewArgsFactory = () => itemContextFactory(record, adjustedPreviousIndex, currentIndex);\r\n        view = this._insertView(viewArgsFactory, currentIndex, viewContainerRef, itemValueResolver(record));\r\n        operation = view ? _ViewRepeaterOperation.INSERTED : _ViewRepeaterOperation.REPLACED;\r\n      } else if (currentIndex == null) {\r\n        this._detachAndCacheView(adjustedPreviousIndex, viewContainerRef);\r\n        operation = _ViewRepeaterOperation.REMOVED;\r\n      } else {\r\n        view = this._moveView(adjustedPreviousIndex, currentIndex, viewContainerRef, itemValueResolver(record));\r\n        operation = _ViewRepeaterOperation.MOVED;\r\n      }\r\n      if (itemViewChanged) {\r\n        itemViewChanged({\r\n          context: view?.context,\r\n          operation,\r\n          record\r\n        });\r\n      }\r\n    });\r\n  }\r\n  detach() {\r\n    for (const view of this._viewCache) {\r\n      view.destroy();\r\n    }\r\n    this._viewCache = [];\r\n  }\r\n  _insertView(viewArgsFactory, currentIndex, viewContainerRef, value) {\r\n    const cachedView = this._insertViewFromCache(currentIndex, viewContainerRef);\r\n    if (cachedView) {\r\n      cachedView.context.$implicit = value;\r\n      return undefined;\r\n    }\r\n    const viewArgs = viewArgsFactory();\r\n    return viewContainerRef.createEmbeddedView(viewArgs.templateRef, viewArgs.context, viewArgs.index);\r\n  }\r\n  _detachAndCacheView(index, viewContainerRef) {\r\n    const detachedView = viewContainerRef.detach(index);\r\n    this._maybeCacheView(detachedView, viewContainerRef);\r\n  }\r\n  _moveView(adjustedPreviousIndex, currentIndex, viewContainerRef, value) {\r\n    const view = viewContainerRef.get(adjustedPreviousIndex);\r\n    viewContainerRef.move(view, currentIndex);\r\n    view.context.$implicit = value;\r\n    return view;\r\n  }\r\n  _maybeCacheView(view, viewContainerRef) {\r\n    if (this._viewCache.length < this.viewCacheSize) {\r\n      this._viewCache.push(view);\r\n    } else {\r\n      const index = viewContainerRef.indexOf(view);\r\n      if (index === -1) {\r\n        view.destroy();\r\n      } else {\r\n        viewContainerRef.remove(index);\r\n      }\r\n    }\r\n  }\r\n  _insertViewFromCache(index, viewContainerRef) {\r\n    const cachedView = this._viewCache.pop();\r\n    if (cachedView) {\r\n      viewContainerRef.insert(cachedView, index);\r\n    }\r\n    return cachedView || null;\r\n  }\r\n}\r\n\r\nexport { ArrayDataSource, _RecycleViewRepeaterStrategy, _ViewRepeaterOperation };\r\n\r\n"],
  "mappings": "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",
  "names": ["_ViewRepeaterOperation"]
}
